<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración de Perfil</title>
    <link rel="icon" href="/assets/logo/LogoStockEase.svg" />

    <!-- Importamos Bootstrap para estilos y componentes -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Importamos FontAwesome para los íconos -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!-- Enlace al archivo de estilos CSS personalizado -->
    <link rel="stylesheet" href="/pruebas/prueba.css">
</head>
<body>

    <!-- Barra de navegación superior -->
    <nav class="navbar">
        <div class="navbar-brand">Configuración de Perfil</div>

        <!-- Botón para abrir/cerrar el menú lateral en móviles -->
        <button class="navbar-toggler" id="toggleSidebar" title="Toggle Sidebar">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <!-- Menú lateral (Sidebar) -->
    <div class="sidebar" id="sidebar">
        <h4>Menú</h4>
        <div class="text-center mb-4">
            <!-- Imagen de perfil del usuario -->
            <img src="/assets/image/perfil.png" alt="Perfil" class="img-fluid rounded-circle" style="width: 100px; height: 100px;">
            <div id="nombreUsuario" class="mt-2"></div> <!-- Se muestra el nombre del usuario -->
        </div>
        
        <!-- Lista de enlaces de navegación -->
        <ul>
            <a class="nav-link" href="/html/empleado.html"><i class="fas fa-home"></i> Inicio</a>
            <a class="nav-link active" href="/consultar-inventario.html"><i class="fas fa-box"></i> Consultar Inventario</a>
            <a class="nav-link" href="/html/registrar-producto.html"><i class="fas fa-plus"></i> Registrar Producto</a>
            <a class="nav-link" href="#"><i class="fas fa-search"></i> Consultar Pedido</a>
            <a class="nav-link" href="#"><i class="fas fa-file-alt"></i> Generar Reporte</a>
            <a class="nav-link" href="#"><i class="fas fa-dollar-sign"></i> Actualizar Precios</a>
            <a class="nav-link" href="#"><i class="fas fa-address-book"></i> Contactos</a>
            <a class="nav-link" href="#"><i class="fa-solid fa-gear"></i> Configuración</a>
            <a class="nav-link" href="/html/Inicio de seccion.html"><i class="fa-solid fa-right-from-bracket"></i> Cerrar sesión</a>
        </ul>
    </div>

    <!-- Contenido principal -->
    <div class="content" id="content">
        <div class="container mt-5">
            <h1 class="text-center mb-4">Configuración de Perfil</h1>

            <!-- Formulario de configuración de perfil -->
            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <form id="perfilForm">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre:</label>
                            <input type="text" class="form-control" id="nombre" placeholder="Ingrese su nombre">
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Correo Electrónico:</label>
                            <input type="email" class="form-control" id="email" placeholder="Ingrese su correo">
                        </div>

                        <div class="mb-3">
                            <label for="telefono" class="form-label">Teléfono:</label>
                            <input type="tel" class="form-control" id="telefono" placeholder="Ingrese su teléfono">
                        </div>

                        <div class="mb-3">
                            <label for="nuevaContraseña" class="form-label">Nueva Contraseña:</label>
                            <input type="password" class="form-control" id="nuevaContraseña" placeholder="Ingrese nueva contraseña">
                        </div>

                        <div class="mb-3">
                            <label for="confirmarContraseña" class="form-label">Confirmar Contraseña:</label>
                            <input type="password" class="form-control" id="confirmarContraseña" placeholder="Confirme su contraseña">
                        </div>

                        <div class="mb-3">
                            <label for="fotoPerfil" class="form-label">Foto de Perfil:</label>
                            <input type="file" class="form-control" id="fotoPerfil">
                        </div>

                        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Obtener elementos del DOM
        const toggleSidebar = document.getElementById('toggleSidebar');
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('content');
        const nombreUsuario = document.getElementById('nombreUsuario');

        // Mostrar/ocultar menú lateral
        toggleSidebar.addEventListener('click', () => {
            sidebar.classList.toggle('show');
            content.classList.toggle('shift');
        });

        // Cargar nombre del usuario desde localStorage
        document.addEventListener('DOMContentLoaded', () => {
            const nombre = localStorage.getItem('nombreUsuario') || 'Usuario';
            nombreUsuario.textContent = nombre;
            document.getElementById('nombre').value = nombre;
        });

        // Validación de contraseña
        document.getElementById('perfilForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const nuevaContraseña = document.getElementById('nuevaContraseña').value;
            const confirmarContraseña = document.getElementById('confirmarContraseña').value;

            if (nuevaContraseña !== confirmarContraseña) {
                alert("Las contraseñas no coinciden");
                return;
            }

            alert('Cambios guardados correctamente');
            window.location.href = "/html/empleado.html"; // Redirige tras guardar cambios
        });
    </script>
</body>
</html>
